<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS5-6.2. JS클래스 상속 + 겟터,셋터</title>
    <script>
      /********************************************** 
            [ JS 클래스 상속 ]

            1. 클래스 상속은 extends 키워드 사용
            2. 클래스 상속으로 생성된 자식클래스는
            부모클래스의 모든 속성과 메서드를 상속한다!
            3. 상속은 코드를 재사용하는 대표적인 방법이다!

            [ super() 메서드 ]
            1. 부모 클래스 참조한다.
            2. 부모 생성자 메서드를 호출한다.
            3. 부모 클래스의 속성과 메서드에 접근 가능하다!
            4. 부모 클래스의 메서드를 선별적으로 가져올 수 있다
            -> super.부모메서드()
            -> 부모메서드 호출시엔 super키워드만 사용함!
      ___________________________________________________

          [ 상속 모델 시나리오 ]

          1. 영화진흥위원회에서 전체 영화정보에 대한
          기준을 마련하여 클래스로 공개를 했다.
          2. 각 영화상영관 사이트에서 이 기준을 따르기로 하고
          클래스를 상속한다!
          3. 각 상영관은 자신에 맞는 별도의 속성과
          메서드를 구현하여 사용한다!
         

      **********************************************/

      /**************************************** 
      //////   영화진흥위원회 부모 클래스 ///////
      ****************************************/
      class MovieInfo {
        // 생성자 메서드 : 주로 속성만 셋팅
        constructor(pos, tit, sum, dir, act, des) {
          // 속성 6가지 셋팅
          this.포스터 = pos;
          this.제목 = tit;
          this.개요 = sum;
          this.감독 = dir;
          this.출연 = act;
          this.문구 = des;
        } ////// 생성자 메서드 ///////

        // 내가 만들고자 하는 메서드
        공통메서드(txt) {
          // txt - 전달변수는 응원메시지 받기
          return `
                    영화 ${this.제목}의
                    감독님 이름은 ${this.감독},
                    <br>나의 응원은 ${txt}
                `;
        } /////// myMethod 메서드 /////////
      } ///////// MovieInfo 클래스 //////////

      /**************************************** 
      /////////   CGV 영화상영관 클래스 ////////
      ****************************************/
      class CGV extends MovieInfo {
        //속성셋팅 생성자 메서드는 필수!
        //기본적으로 부모 생성자 매서드 전달변수 사용!
        //왜? 상속받았으니까!!
        constructor(pos, tit, sum, dir, act, des, msg, num) {
          //super() 메서드: 부모생성자 호출용
          //new키워드로 CGV클래스 인스턴스 생성시 부모 클래스의 생성자가 필요로 하는
          //전달값을 받아서 부모에게 전달한다
          //그 결과 부모가 생성하도록 규정한 속성이 모두 자식클래스에게 상속된다
          super(pos, tit, sum, dir, act, des);

          //부모속성값 6개 외에 2개의 속성값을 더 전달받아서
          //CGV클래스만의 속성을 만든다
          //CGV만의 개별적인 속성 만들기
          this.극장안내 = msg;
          this.수용인원 = num;
        } //cgv 생성자 메서드 ///////////

        //cgv만의 메서드 만들기////////////////
        showCGV(txt) {
          //txt전달변수를 부모 메서드에 전달하여 부모공통 메서드를
          //호출한 결과 리턴값을 받아 처리

          //부모 메서드 접근법: super.부모메서드명()
          return super.공통메서드(txt) + ",", "<br>CGV안내 : " + this.극장안내;
        } //////////showCGV 메서드/////////////////
      } /////////////CGV class////////////////////

      /**************************************** 
      ///////   MegaBox 영화상영관 클래스 //////
      ****************************************/

      //////////////////////////////////////////////
      /////// 클래스로 객체 생성하고 화면출력하기 /////
      //////////////////////////////////////////////

      //1. CGV 클래스 활용하기
      //new 클래스명(); 으로 호출하면 클래스 내부에 생성된
      //생성자 함수(constructor(...))가 호출되면서
      //구체적인 메모리 공간에 객체를 생성한다
      const cgvInfo = new CGV(
        "https://movie-phinf.pstatic.net/20201116_276/1605491658399poUOC_JPEG/movie_image.jpg?type=m99_141_2",
        "조제",
        "멜로/로맨스, 드라마",
        "김종관",
        "한지민, 남주혁",
        "조제 보러 오세요",
        // 자식 클래스용 전달값(극장안내,수용인원)
        "CGV는 항상  영화팬들과 함께합니다~!",
        300
      );

      //객체확인하기
      console.log("cgv객체 확인: ", cgvInfo);
      console.log("cgv객체 key배열확인: ", Object.keys(cgvInfo));
/////////////////////로드구역/////////////////////////////////////////

    window.addEventListener("load",()=>{

     //CGV-part에 출력
     document.querySelector(".cgv-part").innerHTML = 
      `<div class="cgv-info">
      <h1>[ 🎪CGV 상영관 영화안내 ]</h1>
      <h2>
        <ol>
          ${Object.keys(cgvInfo)
          .map(v=>`
          <li>
            ${v=="포스터"?
            `<img src="${cgvInfo[v]}" 
            alt="영화 ${cgvInfo["제목"]}의 포스터">`: v +":"+cgvInfo[v]}
          </li>
          `).join('')}
          
          <li>
            🎁 메시지 : ${
              cgvInfo.showCGV("cgv는 항상 훌륭합니당")
            }
          </li>
        </ol>
      </h2>
    </div>`;

      })///////////////////로드구역////////////////////////////
 
    </script>
  </head>
  <body>
    <!-- CGV 출력박스 -->
    <div class="cgv-part"></div>
  </body>
</html>
